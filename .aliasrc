in_array() {
	# usage:  list=(a b c)
	# in_array a && echo 1
    local hay needle=$1
    shift
    for hay; do
        [[ $hay == $needle ]] && return 0
    done
    return 1
}

# common command
alias cdl='cd'
alias dc='cd'
alias p='ping'
alias meow='ping'
alias p6='ping6'
alias cp='cp -rvi'

alias v='vim '
alias vi='vim '
alias iv='vim '
alias sv='sudo vim'
alias gv='gvim'

alias -g B='|sed -r "s:\x1B\[[0-9;]*[mK]::g"'       # remove color, make things boring
alias -g L="|less"
alias -g G='|grep'
alias -g N='>/dev/null'
alias -g NN='>/dev/null 2>&1'
alias L=less
alias C='cat'
alias wcl='wc -l'

alias psg='pgrep -a'
alias top='top -d 0.5 -o %MEM'
alias psmem="ps aux|awk '{print \$4\"\\t\"\$11}'|grep -v MEM|sort -r | head -n20"
alias grep='grep -IE --color=auto --exclude=.tags --exclude-dir="node_modules" --exclude-dir=".git" --exclude-dir=".env"'
alias b='acpi'
alias tmuxa='tmux a || tmux'

alias l='ls -F --color=auto'
alias l.='ls -d .* --color=auto'
alias sl='ls -F --color=auto'
alias ls='ls -F --color=auto'
alias lss='ls -F --color=auto'

alias mk='make'
alias mr='make run'
alias mc='make clean'
alias mkc='make clean'
alias cmk='mkdir -p build; cd build; cmake ..; make; cd ..'
alias mkb='make -C build'
alias gits='git s'

function ll(){
	ls -AhlF --color=auto $@
	[[ "$@" == "$1" ]] && echo -e " $GREEN  --[$LIGHTBLUE  Dir:    $CYAN`ls -Al $@ | grep '^drw' | wc -l`$LIGHTGREEN|$YELLOW \
	 File: $GREEN`ls -Al $@ | grep -v '^drw' | grep -v total | wc -l` ]-- $WHITE"
}

function acpi(){
	=acpi -V | head -n1
	sensors | grep temp1 |sed 's/(.*//g' |sed 's/\+//g'
	sensors | grep RPM
	cat /proc/acpi/ibm/fan | head -n3 |tail -n1
	#echo "Graphic Card:  `nvidia-settings -q gpucoretemp |grep "Keep" |grep -o "\ [0-9]+" `  Â°C "
	for ((i=0; i<1; i++)); do
		echo -n "cpu$i : "
		cat "/sys/devices/system/cpu/cpu$i/cpufreq/scaling_governor"
	done
	sudo cpupower frequency-info -w | sed 'N;s/\n//g'
}

function cdp () {
    dir=$(git rev-parse --show-toplevel 2>/dev/null)
    if [ $? -eq 0 ]; then
        CDP=$dir
        cd $dir
    else
        echo "'$PWD' is not git repos"
    fi
}

# long path
alias eclimd='/usr/share/eclipse/eclimd'
alias SugarCpp='mono ~/tmp/SugarCpp/src/SugarCpp.CommandLine/bin/Debug/SugarCpp.CommandLine.exe'
alias word='/opt/wps/wps'
alias powerpoint='/opt/wps/wpp'

alias webstorm='/opt/WebStorm-129.664/bin/webstorm.sh'
alias idea='/opt/idea-IC-129.713/bin/idea.sh'
export PYCHARM_JDK=/opt/java-oracle
export RUBYMINE_JDK=/opt/java-oracle
export IDEA_JDK=/opt/java-oracle
export WEBIDE_JDK=/opt/java-oracle

alias robomongo='/opt/robomongo-0.8.0-x86_64/bin/robomongo.sh'
alias mathc='/opt/Mathematica/Executables/math'
alias mathematica='/opt/Mathematica/Executables/Mathematica -nosplash'
alias matlab='/opt/Matlab/bin/matlab'
alias matlabc='/opt/Matlab/bin/matlab -nodisplay -r clc '
alias maple='/opt/Maple/bin/xmaple'
alias evernote='wine ~/.wine/drive_c/Program\ Files\ \(x86\)/Evernote/Evernote/Evernote.exe'
alias ie8="wine 'C:\Program Files (x86)\\\\Internet Explorer\\\\iexplore'"

# add arguments for some commands
alias indent='indent -linux -l80'
alias gdb='gdb -q'
alias R='R --vanilla'
alias LS='LS -eaF'
alias which='which -a'
alias ibus-daemon='ibus-daemon --xim'
alias zh-CN="LC_ALL='zh_CN.UTF-8'"
alias manzh="LC_ALL='zh_CN.UTF-8' man"
alias free='free -m'
alias df='df -Th'
alias dot='dot -Tpng -O -v'
alias dstat='dstat -dnmcl --socket --top-io -N eth0,eth1,wlan0,eno1'
alias ctags='ctags -R -f .tags --c++-kinds=+p --fields=+iaS --extra=+q'
alias valgrind='valgrind --leak-check=full --track-origins=yes --show-possibly-lost=yes'
alias convmv='convmv -f GBK -t UTF-8 --notest -r'
which colordiff > /dev/null 2>&1 && alias diff='colordiff'


# customed command
alias km='xmodmap ~/.Xmodmap; xcape -e "Control_L=Escape"; xinput set-button-map $(xinput | grep -o "TouchPad.*id=[0-9]*" |grep -o "[0-9]*") 1 0 0'
alias keyb='xinput disable $(xinput | grep -o "TouchPad.*id=[0-9]*" |grep -o "[0-9]*")'
alias unkeyb='xinput enable $(xinput | grep -o "TouchPad.*id=[0-9]*" |grep -o "[0-9]*")'

alias cp2clip='xclip -i -selection clipboard'
alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'
alias clean_trash='=rm /ssd_home/.Trash/{.,}* -rf; =rm ~/.Trash/{.,}* -rf'
alias mirror='mplayer -tv driver=v4l2:device=/dev/video0 tv:// -vf-add mirror'
alias tune_pitch='mplayer -af scaletempo=speed=pitch'
alias record='ffmpeg -f alsa -ac 1 -i pulse -f x11grab -s 1366x768 -r 40 -show_region 1 -qscale 2 -i :0.0 ~/Video/out.mpg'
alias learn=". ~/bin/learn"
alias restart_wm='pkill compiz -9; pkill fusion-icon -9; DISPLAY=:0.0 fusion-icon &'
alias window='wmctrl -a '

[[ -s ~/.pythonrc ]] && export PYHTONSTARTUP=~/.pythonrc
alias ipython_notebook="ipython2 notebook --pylab inline"
alias bp2='bpython2'
alias pyftp='python2 -m pyftpdlib'
function pytwistd() { twistd web --path "$1" -p "${2:-8000}" }
alias pipup="pip freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs pip install --user -U; pip2 freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs pip2 install --user -U"

alias hotspot='sudo nmcli con up id Seattle'
alias iwc='iwconfig wlan0; ifconfig wlan0'
alias port='netstat -ntlp'
alias rsync='rsync --progress --partial'
alias m_rsync='rsync --progress --partial --delete --size-only -rlv'
# rsync ./book/ /mnt/books/ -rlv --delete --size-only
alias chromium_proxy='chromium --proxy-server=socks5://localhost:8080'
alias chromium_rug='chromium --proxy-server=rug.net9.org:7777'
alias net9='luit -encoding gb18030 -- ssh -1 ppwwyyxx@bbs.net9.org'
alias smth='luit -encoding gb18030 -- ssh -1 ppwwyyxx@bbs.smth.org'
alias gtalk='weechat-curses -r "/connect localhost; /msg &bitlbee identify 1"'
alias ssh_reverse='ssh -R 6333:localhost:22 -ServerAliveInterval=60'

alias win='cd; virtualbox --startvm win7 & ; cd -'
alias osx='cd; virtualbox --startvm osx & ; cd -'
alias winxp='cd; virtualbox --startvm winxp &; cd -'
alias vnc_quick='vncviewer -QualityLevel=0 -CompressLevel=3 -PreferredEncoding=ZRLE -FullScreen=1 -Shared=1'
alias rdesktop-lab='rdesktop-vrdp -u wyx -p - 166.111.71.37:3389'

alias please='sudo'
alias logout='xfce4-session-logout --logout'
alias umount='sudo umount'
alias mount='sudo mount'
alias samba_thu='sudo mount -t cifs -o username=tuna,password=Tunahallelujah2012  //166.111.9.155/movie /mnt'
alias iotop='sudo iotop'
alias iftop='sudo iftop -B'
alias powertop='sudo powertop'

alias pS='sudo pacman -S'
alias pSs='pacman -Ss'
alias pSi='pacman -Si'
alias pSy='sudo pacman -Syy'
alias pR='sudo pacman -R'
alias pSu='pacaur -Syu'

m_sub_param='-subcp utf-8 -subfont-text-scale 2.5 -subfont "/usr/share/fonts/wenquanyi/wqy-microhei/wqy-microhei.ttc"'
m_avc_param="-oac mp3lame -lameopts fast:preset=medium -ovc x264 -x264encopts subq=5:8x8dct:frameref=2:bframes=3:weight_b"
f_avc_param="-c:v libx264 -preset slow -crf 22 -c:a libmp3lame"
mx="/home/wyx/install/files/pics/pic7"
function ffmpeg_compress() { ffmpeg -i $1 `echo $f_avc_param` $1.avi }
function mencoder_compress() { mencoder $1 -o $1.avi `echo $m_avc_param` }

#  vim:ft=zsh
